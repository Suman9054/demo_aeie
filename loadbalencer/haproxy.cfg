global
    daemon
    log stdout local0 info
    maxconn 4096

defaults
    mode http
    log global
    option httplog
    option dontlognull
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    retries 3

frontend web_frontend
    bind *:80
    
    # API routes with higher priority (matches /api/)
    acl is_api path_beg /api/
    use_backend backend_api if is_api
    
    # Default catch-all for other paths
    default_backend backend_api

backend backend_api
    balance roundrobin
    option httpchk GET /
    
    # Backend servers (your Render.com endpoints)
    server api1 aeie-club-server.onrender.com:3000 ssl verify none check
    server api2 aeie-club-server-1.onrender.com:3000 ssl verify none check